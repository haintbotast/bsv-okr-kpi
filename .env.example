# =============================================================================
# KPI MANAGEMENT SYSTEM - ENVIRONMENT VARIABLES
# =============================================================================
#
# IMPORTANT: Copy this file to .env and update the values
# Command: cp .env.example .env
#
# Security Notes:
# - NEVER commit .env file to Git
# - Generate strong SECRET_KEY: openssl rand -hex 32
# - Use strong passwords (min 12 chars, mixed case, numbers, symbols)
# - Update CORS_ORIGINS with your actual domain
# =============================================================================

# =============================================================================
# APPLICATION
# =============================================================================

APP_NAME=KPI Management System
APP_VERSION=1.0.0
ENVIRONMENT=production
# Options: development, staging, production

# =============================================================================
# SECURITY - CRITICAL: CHANGE THESE VALUES!
# =============================================================================

# Generate with: openssl rand -hex 32
SECRET_KEY=your-super-secret-key-min-32-chars-CHANGE-THIS-IN-PRODUCTION

# JWT Configuration
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=480
# 480 minutes = 8 hours (one work day)
REFRESH_TOKEN_EXPIRE_DAYS=7
# 7 days = one week

# =============================================================================
# DATABASE
# =============================================================================

# SQLite database path (relative to container)
DATABASE_URL=sqlite:////data/database/kpi.db

# SQLite optimizations
# Enable WAL mode for better concurrency (set in init script)
# PRAGMA journal_mode=WAL
# PRAGMA synchronous=NORMAL
# PRAGMA cache_size=10000

# =============================================================================
# FILE STORAGE
# =============================================================================

# Upload directory
UPLOAD_DIR=/data/uploads

# Max file size (in bytes)
# 52428800 bytes = 50 MB
MAX_UPLOAD_SIZE=52428800

# Allowed file extensions (comma-separated, no spaces)
ALLOWED_EXTENSIONS=pdf,doc,docx,xls,xlsx,ppt,pptx,jpg,jpeg,png,gif

# File naming strategy
# Options: uuid, timestamp, original
FILE_NAMING_STRATEGY=uuid

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup directory
BACKUP_DIR=/data/backups

# Backup retention (in days)
BACKUP_RETENTION_DAYS=30

# Enable automatic backups
AUTO_BACKUP_ENABLED=true

# Backup schedule (cron format)
# Default: 0 2 * * * (daily at 2:00 AM)
BACKUP_SCHEDULE=0 2 * * *

# Backup compression
BACKUP_COMPRESS=true

# =============================================================================
# CORS (Cross-Origin Resource Sharing)
# =============================================================================

# Allowed origins (comma-separated)
# For development: http://localhost,http://localhost:3000,http://localhost:5173
# For production: https://your-domain.com,https://www.your-domain.com
CORS_ORIGINS=http://localhost,http://localhost:3000,http://localhost:5173

# CORS credentials
CORS_ALLOW_CREDENTIALS=true

# CORS methods
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH

# CORS headers
CORS_ALLOW_HEADERS=*

# =============================================================================
# EMAIL / SMTP (OPTIONAL)
# =============================================================================

# Enable email notifications
SMTP_ENABLED=false

# SMTP Server
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
# Common ports: 587 (TLS), 465 (SSL), 25 (plain)

# SMTP Authentication
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
# For Gmail: Generate App Password at https://myaccount.google.com/apppasswords

# Email sender
SMTP_FROM=noreply@your-company.com
SMTP_FROM_NAME=KPI Management System

# Use TLS
SMTP_TLS=true

# Use SSL (if not using TLS)
SMTP_SSL=false

# Email templates directory
EMAIL_TEMPLATES_DIR=/app/templates/email

# =============================================================================
# LOGGING
# =============================================================================

# Log level
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE=/data/logs/app.log

# Log format
# Options: json, text
LOG_FORMAT=text

# Log rotation
LOG_MAX_SIZE=10485760
# 10485760 bytes = 10 MB

LOG_BACKUP_COUNT=5
# Keep 5 backup log files

# Log to console
LOG_TO_CONSOLE=true

# =============================================================================
# ADMIN USER (Initial Setup)
# =============================================================================

# Default admin credentials (used by create_admin.py script)
ADMIN_EMAIL=admin@company.com
ADMIN_PASSWORD=ChangeMe123!
# IMPORTANT: Change this immediately after first login!
ADMIN_FULLNAME=System Administrator
ADMIN_DEPARTMENT=IT
ADMIN_POSITION=Administrator

# =============================================================================
# APPLICATION FEATURES
# =============================================================================

# Enable user registration (set to false to disable public registration)
ENABLE_REGISTRATION=false

# Enable password reset
ENABLE_PASSWORD_RESET=true

# Enable email verification (requires SMTP)
ENABLE_EMAIL_VERIFICATION=false

# Enable notifications
ENABLE_NOTIFICATIONS=true

# Notification polling interval (in seconds)
NOTIFICATION_POLL_INTERVAL=30

# Enable comments
ENABLE_COMMENTS=true

# Enable file uploads
ENABLE_FILE_UPLOADS=true

# Enable reporting
ENABLE_REPORTING=true

# Enable audit log
ENABLE_AUDIT_LOG=true

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Number of Uvicorn workers
WORKERS=2
# Recommendation: 2-4 workers for 30 users

# Worker timeout (in seconds)
TIMEOUT=60

# Keep-alive timeout (in seconds)
KEEP_ALIVE=5

# Max concurrent connections
MAX_CONNECTIONS=100

# Enable gzip compression
ENABLE_GZIP=true

# Cache timeout (in seconds)
CACHE_TIMEOUT=300
# 300 seconds = 5 minutes

# =============================================================================
# PAGINATION
# =============================================================================

# Default items per page
DEFAULT_PAGE_SIZE=20

# Maximum items per page
MAX_PAGE_SIZE=100

# =============================================================================
# SESSION
# =============================================================================

# Session timeout (in seconds)
SESSION_TIMEOUT=28800
# 28800 seconds = 8 hours

# Remember me duration (in days)
REMEMBER_ME_DAYS=30

# =============================================================================
# RATE LIMITING (OPTIONAL)
# =============================================================================

# Enable rate limiting
ENABLE_RATE_LIMIT=false

# Max requests per minute
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# MONITORING (OPTIONAL)
# =============================================================================

# Enable health check endpoint
ENABLE_HEALTH_CHECK=true

# Enable metrics endpoint
ENABLE_METRICS=false

# Sentry DSN (for error tracking)
SENTRY_DSN=

# =============================================================================
# DEVELOPMENT (Only for development environment)
# =============================================================================

# Enable debug mode (NEVER enable in production!)
DEBUG=false

# Enable auto-reload (development only)
RELOAD=false

# Enable API documentation
ENABLE_DOCS=true
# Swagger UI: http://localhost:8000/docs
# ReDoc: http://localhost:8000/redoc

# Enable CORS for all origins (development only)
CORS_ALLOW_ALL_ORIGINS=false

# =============================================================================
# DOCKER SPECIFIC
# =============================================================================

# Container timezone
TZ=Asia/Ho_Chi_Minh
# Or: UTC, America/New_York, Europe/London, etc.

# =============================================================================
# CUSTOM SETTINGS (Add your own settings here)
# =============================================================================

# Company name
COMPANY_NAME=Your Company Name

# Company logo URL
COMPANY_LOGO_URL=/logo.png

# Support email
SUPPORT_EMAIL=support@company.com

# Support phone
SUPPORT_PHONE=+84 123 456 789

# System maintenance mode
MAINTENANCE_MODE=false

# Maintenance message
MAINTENANCE_MESSAGE=System is under maintenance. Please check back later.

# =============================================================================
# END OF CONFIGURATION
# =============================================================================

# After copying this file to .env:
# 1. Generate new SECRET_KEY: openssl rand -hex 32
# 2. Update ADMIN_EMAIL and ADMIN_PASSWORD
# 3. Update CORS_ORIGINS with your domain
# 4. Configure SMTP settings if you want email notifications
# 5. Review and adjust other settings as needed
